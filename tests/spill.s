.text
.globl __main
.globl __f
.globl __malloc

  la t0,__main
  sw t0,main,x3
  la t0,__f
  sw t0,f,x3
  la t0,__malloc
  sw t0,malloc,x3
  la t0,heapstart
  sw t0,heapptr,x3
  lw t1,heapsize
  add t2,t0,t1
  sw t2,heapend,x3
  jal ra,__main
  jal ra,__halt
__f:
  addi sp,sp,-8
  sw fp,4(sp)
  sw ra,0(sp)
  addi fp,sp,4
  addi sp,sp,-164
  add a0,a0,zero
  add s1,s1,zero
  add s2,s2,zero
  add s3,s3,zero
  add s4,s4,zero
  add s5,s5,zero
  add s6,s6,zero
  add s7,s7,zero
  add s8,s8,zero
  add s9,s9,zero
  add s10,s10,zero
  add s11,s11,zero
f__entry:
  add a0,a0,zero
  add a1,a0,zero
  add a2,a0,zero
  add a3,a0,zero
  add a4,a0,zero
  add a5,a0,zero
  add a6,a0,zero
  add a7,a0,zero
  add t3,a0,zero
  add t4,a0,zero
  add t5,a0,zero
  add t6,a0,zero
  add t2,a0,zero
  sw t2,-8(fp)
  add t2,a0,zero
  sw t2,-12(fp)
  add t2,a0,zero
  sw t2,-16(fp)
  add t2,a0,zero
  sw t2,-20(fp)
  add t2,a0,zero
  sw t2,-24(fp)
  add t2,a0,zero
  sw t2,-28(fp)
  add t2,a0,zero
  sw t2,-32(fp)
  add t2,a0,zero
  sw t2,-36(fp)
  add t2,a0,zero
  sw t2,-40(fp)
  add t2,a0,zero
  sw t2,-44(fp)
  add t2,a0,zero
  sw t2,-48(fp)
  add t2,a0,zero
  sw t2,-52(fp)
  add t2,a0,zero
  sw t2,-56(fp)
  add t2,a0,zero
  sw t2,-60(fp)
  add t2,a0,zero
  sw t2,-64(fp)
  add t2,a0,zero
  sw t2,-68(fp)
  add t2,a0,zero
  sw t2,-72(fp)
  add t2,a0,zero
  sw t2,-76(fp)
  add t2,a0,zero
  sw t2,-80(fp)
  add t2,a0,zero
  sw t2,-84(fp)
  add t2,a0,a1
  sw t2,-88(fp)
  lw t0,-88(fp)
  add a2,t0,a2
  add a3,a2,a3
  add a4,a3,a4
  add a5,a4,a5
  add a6,a5,a6
  add a7,a6,a7
  add t3,a7,t3
  add t4,t3,t4
  add t5,t4,t5
  add t6,t5,t6
  lw t1,-8(fp)
  add t2,t6,t1
  sw t2,-92(fp)
  lw t0,-92(fp)
  lw t1,-12(fp)
  add t2,t0,t1
  sw t2,-96(fp)
  lw t0,-96(fp)
  lw t1,-16(fp)
  add t2,t0,t1
  sw t2,-100(fp)
  lw t0,-100(fp)
  lw t1,-20(fp)
  add t2,t0,t1
  sw t2,-104(fp)
  lw t0,-104(fp)
  lw t1,-24(fp)
  add t2,t0,t1
  sw t2,-108(fp)
  lw t0,-108(fp)
  lw t1,-28(fp)
  add t2,t0,t1
  sw t2,-112(fp)
  lw t0,-112(fp)
  lw t1,-32(fp)
  add t2,t0,t1
  sw t2,-116(fp)
  lw t0,-116(fp)
  lw t1,-36(fp)
  add t2,t0,t1
  sw t2,-120(fp)
  lw t0,-120(fp)
  lw t1,-40(fp)
  add t2,t0,t1
  sw t2,-124(fp)
  lw t0,-124(fp)
  lw t1,-44(fp)
  add t2,t0,t1
  sw t2,-128(fp)
  lw t0,-128(fp)
  lw t1,-48(fp)
  add t2,t0,t1
  sw t2,-132(fp)
  lw t0,-132(fp)
  lw t1,-52(fp)
  add t2,t0,t1
  sw t2,-136(fp)
  lw t0,-136(fp)
  lw t1,-56(fp)
  add t2,t0,t1
  sw t2,-140(fp)
  lw t0,-140(fp)
  lw t1,-60(fp)
  add t2,t0,t1
  sw t2,-144(fp)
  lw t0,-144(fp)
  lw t1,-64(fp)
  add t2,t0,t1
  sw t2,-148(fp)
  lw t0,-148(fp)
  lw t1,-68(fp)
  add t2,t0,t1
  sw t2,-152(fp)
  lw t0,-152(fp)
  lw t1,-72(fp)
  add t2,t0,t1
  sw t2,-156(fp)
  lw t0,-156(fp)
  lw t1,-76(fp)
  add t2,t0,t1
  sw t2,-160(fp)
  lw t0,-160(fp)
  lw t1,-80(fp)
  add t2,t0,t1
  sw t2,-164(fp)
  lw t0,-164(fp)
  lw t1,-84(fp)
  add t2,t0,t1
  sw t2,-168(fp)
  add a0,a0,a1
  lw t0,-88(fp)
  add a0,t0,a0
  add a0,a2,a0
  add a0,a3,a0
  add a0,a4,a0
  add a0,a5,a0
  add a0,a6,a0
  add a0,a7,a0
  add a0,t3,a0
  add a0,t4,a0
  add a0,t5,a0
  add a0,t6,a0
  lw t0,-92(fp)
  add a0,t0,a0
  lw t0,-96(fp)
  add a0,t0,a0
  lw t0,-100(fp)
  add a0,t0,a0
  lw t0,-104(fp)
  add a0,t0,a0
  lw t0,-108(fp)
  add a0,t0,a0
  lw t0,-112(fp)
  add a0,t0,a0
  lw t0,-116(fp)
  add a0,t0,a0
  lw t0,-120(fp)
  add a0,t0,a0
  lw t0,-124(fp)
  add a0,t0,a0
  lw t0,-128(fp)
  add a0,t0,a0
  lw t0,-132(fp)
  add a0,t0,a0
  lw t0,-136(fp)
  add a0,t0,a0
  lw t0,-140(fp)
  add a0,t0,a0
  lw t0,-144(fp)
  add a0,t0,a0
  lw t0,-148(fp)
  add a0,t0,a0
  lw t0,-152(fp)
  add a0,t0,a0
  lw t0,-156(fp)
  add a0,t0,a0
  lw t0,-160(fp)
  add a0,t0,a0
  lw t0,-164(fp)
  add a0,t0,a0
  add a0,a0,zero
  jal zero,f__exit
f__exit:
  add s1,s1,zero
  add s2,s2,zero
  add s3,s3,zero
  add s4,s4,zero
  add s5,s5,zero
  add s6,s6,zero
  add s7,s7,zero
  add s8,s8,zero
  add s9,s9,zero
  add s10,s10,zero
  add s11,s11,zero
  addi sp,fp,-4
  lw fp,4(sp)
  lw ra,0(sp)
  addi sp,sp,8
  jalr zero,ra,0
__main:
  addi sp,sp,-8
  sw fp,4(sp)
  sw ra,0(sp)
  addi fp,sp,4
  addi sp,sp,-4
  add s1,s1,zero
  add s2,s2,zero
  add s3,s3,zero
  add s4,s4,zero
  add s5,s5,zero
  add s6,s6,zero
  add s7,s7,zero
  add s8,s8,zero
  add s9,s9,zero
  add s10,s10,zero
  add s11,s11,zero
main__entry:
  addi t0,zero,1
  add a0,t0,zero
  lw t0,f
  jalr ra,t0,0
  addi t2,a0,0
  sw t2,-8(fp)
  lw t0,-8(fp)
  add a0,t0,zero
  jal zero,main__exit
main__exit:
  add s1,s1,zero
  add s2,s2,zero
  add s3,s3,zero
  add s4,s4,zero
  add s5,s5,zero
  add s6,s6,zero
  add s7,s7,zero
  add s8,s8,zero
  add s9,s9,zero
  add s10,s10,zero
  add s11,s11,zero
  addi sp,fp,-4
  lw fp,4(sp)
  lw ra,0(sp)
  addi sp,sp,8
  jalr zero,ra,0
__malloc:
  lw t0,heapptr
  lw t2,heapend
  add t1,t0,a0
  blt t2,t1,__eom
  sw t1,heapptr,x3
  addi a0,t0,0
  jalr zero,ra,0
__eom:
  xor a0,a0,a0
  jalr zero,ra,0
__halt:


.data

main:
  .word 0

f:
  .word 0

malloc:
  .word 0

heapptr:
  .word 0

heapsize:
  .word 4194304

heapend:
  .word 0

heapstart:
  .word 0

